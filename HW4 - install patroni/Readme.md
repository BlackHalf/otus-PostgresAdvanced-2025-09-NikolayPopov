Повторите шаги Алексея:

1. Создайте 3 виртуальные машины для etcd и 3 виртуальные машины для Patroni.

Создаем из машины для ДЗ 1 шаблон, а из него 6 машин, переименовываем, меняем machine id, чтобы получить уникальные адреса по DHCP

![alt text](image.png)

2. Разверните HA-кластер PostgreSQL с использованием Patroni.

Ставим etcd на course-etcd1-3

![alt text](image-1.png)

Редактируем /etc/hosts чтобы использовать имена машин

![alt text](image-2.png)

Редактируем конфиги mcedit /etc/default/etcd

![alt text](image-3.png)

Запускаем etcd и смотрим статус, видим лидера

![alt text](image-4.png)

Далее будем ставить Патрони. Ставим все зависимости и сам патрони

![alt text](image-5.png)

Правим конфиги mcedit /etc/patroni.yml

![alt text](image-6.png)

Стартуем и смотрим статус

![alt text](image-7.png)

3. Настройте HAProxy для балансировки нагрузки.
4. Проверьте отказоустойчивость кластера, имитируя сбой на одном из узлов.
5. Дополнительно: Настройте бэкапы с использованием WAL-G или pg_probackup.